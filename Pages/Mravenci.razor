@namespace Mravenci.Pages


<div class="game-container">
    <div class="game-area">

        <div class="board">
            <div class="@($"player-column{(aktualniHrac == cerni ? " active-player" : "")}")">
                <h2>@cerni.Jmeno</h2>

                <div class="scoreboard">
                    <div class="score-item">Hrad: <strong>@cerni.Hrad</strong></div>
                    <div class="score-item">Cihly: <strong>@cerni.PocetCihel</strong></div>
                    <div class="score-item">ZbranÄ›: <strong>@cerni.PocetZbrani</strong></div>
                </div>
            </div>

            <div class="castle-column">
                    <h1 class="win">@vytezstvi</h1>
            </div>

            <div class="@($"player-column{(aktualniHrac == cerveni ? " active-player" : "")}")">
                <h2>@cerveni.Jmeno</h2>
                <div class="scoreboard">
                    <div class="score-item">Hrad: <strong>@cerveni.Hrad</strong></div>
                    <div class="score-item">Cihly: <strong>@cerveni.PocetCihel</strong></div>
                    <div class="score-item">ZbranÄ›: <strong>@cerveni.PocetZbrani</strong></div>
                </div>
            </div>

        </div>
        @* ruka hrÃ¡Äe *@
        <div class="hand">
            @for (int i = 0; i < aktualniRuka.Ruka.Count; i++)
{
                var index = i;
                var karta = aktualniRuka.Ruka.ElementAt(index);
                <div class="@($"card{(karta.JeKartaHratelna(aktualniHrac) ? "" : " card-disabled")}")"
                    @onclick="() => { if (karta.JeKartaHratelna(aktualniHrac)) HracZahralKartu(index); }">
                    <div class="discard">
                        <div class="discard-button" @onclick="@((MouseEventArgs e) => ZahodKartu(index))"
                            @onclick:stopPropagation="true">X
                        </div>
                    </div>
                    <div class="card-title">@karta.Nazev</div>
                    <div class="card-cost">ğŸ’°@karta.Cena</div>
                    <div class="card-effect">@karta.Popis</div>
                </div>
            }
        </div>

        <a href="#" data-bs-toggle="modal" data-bs-target="#pravidlaModal" class="help-icon">
            <i class="bi bi-question-circle">?</i>
        </a>

        <div class="modal fade" id="pravidlaModal" tabindex="-1" aria-labelledby="pravidlaModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" style="max-width: 800px;">
                <div class="modal-content" style="background-color: rgba(255, 255, 255, 0.2); width: 800px">
                <div class="modal-header">
                    <h5 class="modal-title" id="pravidlaModalLabel">Pravidla hry Mravenci</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="ZavÅ™Ã­t" style="color: white"></button>
                </div>
                <div class="modal-body">
                    <ul>
                    <li>Mravenci jsou strategickÃ¡ karetnÃ­ hra pro dva hrÃ¡Äe - ÄernÃ© a ÄervenÃ© mravence. CÃ­lem hry je buÄ vystavÄ›t svÅ¯j hrad do vÃ½Å¡ky 100 bodÅ¯, nebo zniÄit hrad soupeÅ™e, tedy snÃ­Å¾it jeho hodnotu na nulu. </li>
                    <li>HrÃ¡Äi se stÅ™Ã­dajÃ­ na tazÃ­ch, pÅ™iÄemÅ¾ v kaÅ¾dÃ©m tahu zahrajÃ­ jednu kartu a potÃ© si doberou novou.</li>
                    <li>KaÅ¾dÃ½ hrÃ¡Ä zaÄÃ­nÃ¡ se startovnÃ­mi zÃ¡sobami 5 cihel a 5 zbranÃ­, a s hradem o vÃ½Å¡ce 30 bodÅ¯. Na zaÄÃ¡tku kaÅ¾dÃ©ho svÃ©ho tahu automaticky obdrÅ¾Ã­ 2 cihly a 2 zbranÄ›. </li>
                    <li>HrÃ¡Ä, kterÃ½ je na tahu mÅ¯Å¾e kartu zahrÃ¡t, pokud mÃ¡ dostatek prostÅ™edkÅ¯ - cihel (pro stavebnÃ­ karty) nebo zbranÃ­ (pro ÃºtoÄnÃ© karty). PÅ™Ã­padnÄ› kliknutÃ­m na kÅ™Ã­Å¾ek v pravÃ©m hornÃ­m rohu kartu odhodit, pokud ji nemÅ¯Å¾e nebo nechce pouÅ¾Ã­t.</li>
                    </ul>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" style="background-color: rgba(255, 255, 255, 0.7);">ZavÅ™Ã­t</button>
                </div>
                </div>
            </div>
        </div>

    </div>
</div>
